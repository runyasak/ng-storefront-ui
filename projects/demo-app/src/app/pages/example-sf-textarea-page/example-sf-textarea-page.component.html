<app-example-wrapper [controls]="controls" [state]="prepareControlsData.state">
  <label>
    <span
      class="typography-text-sm font-medium"
      [ngClass]="{
        'cursor-not-allowed text-disabled-500': prepareControlsData.state().disabled
      }"
    >
      {{ prepareControlsData.state().label }}
    </span>
    <textarea
      sf-textarea
      class="w-full disabled:!bg-disabled-100 disabled:!ring-disabled-300 disabled:!ring-1 disabled:!text-disabled-500 read-only:!bg-disabled-100 read-only:!ring-disabled-300 read-only:!ring-1 read-only:!text-neutral-500"
      [formControl]="textareaControl"
      [size]="prepareControlsData.state().size"
      [placeholder]="prepareControlsData.state().placeholder"
      [readOnly]="prepareControlsData.state().readonly"
    ></textarea>
  </label>
  <div class="flex justify-between">
    <div>
      <p
        *ngIf="prepareControlsData.state().invalid && !prepareControlsData.state().disabled"
        class="typography-text-sm text-negative-700 font-medium mt-0.5"
      >
        {{ prepareControlsData.state().errorText }}
      </p>
      <p
        *ngIf="prepareControlsData.state().helpText"
        [ngClass]="[
          'typography-text-xs mt-0.5',
          prepareControlsData.state().disabled ? 'text-disabled-500' : 'text-neutral-500'
        ]"
      >
        {{ prepareControlsData.state().helpText }}
      </p>
      <p
        *ngIf="prepareControlsData.state().requiredText && prepareControlsData.state().required"
        class="mt-1 typography-text-sm font-normal text-neutral-500 before:content-['*']"
      >
        {{ prepareControlsData.state().requiredText }}
      </p>
    </div>
    <p
      *ngIf="prepareControlsData.state().characterLimit && !prepareControlsData.state().readonly"
      [ngClass]="[
        'typography-text-xs mt-0.5',
        prepareControlsData.state().disabled ? 'text-disabled-500' : characterLimitClass()
      ]"
    >
      {{ charsCount() }}
    </p>
  </div>

  <div class="flex pt-4 gap-4">Form value: {{ textareaControl.value }}</div>
</app-example-wrapper>
